<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../static/register.css">
        <title>Update {{ contact.contactName }}</title>
    </head>
    <body>
        <form action="/update_contact/{{ contact.id }}" method="post" id="form_id">
            <header class="form-header"><h1>Update your contact</h1></header>

            <label>Contact name</label>
            <input class="name" type="text" name="name" placeholder="How will be this contact displayed" value="{{ contact.contactName }}" required><br>

            <label>Contact phone</label>
            <input class="phone-number" type="text" name="phone-number" placeholder="+35989***" value="{{ contact.reciever }}" required><br>

            {% if contact.method == "sms" %}
                <label>Send messages to the contact via:</label><br>
                <input type="radio" name="options" value="sms" checked=true >SMS<br>
                <input type="radio" name="options" value="whatsapp">WhatsApp<br>
            {% endif %}

            {% if contact.method == 'whatsapp' %}
                <label>Send messages to the contact via:</label><br>
                <input type="radio" name="options" value="sms">SMS<br>
                <input type="radio" name="options" value="whatsapp" checked=true>WhatsApp<br>
            {% endif %}

            <input type="submit" class="button2" style="width: 100%;" onclick='save(); this.disabled = true; this.setAttribute("style", "color: #ccc");' value="Submit">

        </form>

        <a href="{{ url_for('update_contact', id=contact.id) }}" class="button2" style="width: 96.5%;">Try again</a>
        <a href="{{ url_for('user_contacts') }}" class="button3" style="width: 96.5%;">Cancel</a>

        <script>
            function save() {
                document.getElementById("form_id").submit();
            }
        </script>
    </body>
</html>